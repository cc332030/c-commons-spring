
def isSnapshot = version.endsWith("SNAPSHOT")

[compileJava, compileTestJava, javadoc]*.options*.encoding = charset

test {
  exclude '**/*Test*.class'
}

java {

  withJavadocJar()
  withSourcesJar()
  toolchain {
    languageVersion = JavaLanguageVersion.of(jdk_version)
    vendor = JvmVendorSpec.ADOPTOPENJDK
    implementation = JvmImplementation.J9
  }
}

jar {
  enabled = true
  into("META-INF/resources") {
    from("src/main/webapp")
  }
}

bootJar {
  enabled = false
}

idea {
  module {
    downloadJavadoc = false
    downloadSources = false
  }
}
